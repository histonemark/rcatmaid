<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fetch position and other information for arbitrary treenode ids — catmaid_get_treenodes_detail • catmaid</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Fetch position and other information for arbitrary treenode ids — catmaid_get_treenodes_detail" />

<meta property="og:description" content="Fetch position and other information for arbitrary treenode ids" />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">catmaid</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.9.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/example-drosophila-larva-olfactory-system.html">Introductory Example - Drosophila Larval Olfaction</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../SUPPORT.html">Help</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://natverse.github.io">natverse</a>
</li>
<li>
  <a href="https://github.com/jefferis/rcatmaid">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fetch position and other information for arbitrary treenode ids</h1>
    <small class="dont-index">Source: <a href='https://github.com/jefferis/rcatmaid/blob/master/R/catmaid_skeleton.R'><code>R/catmaid_skeleton.R</code></a></small>
    <div class="hidden name"><code>catmaid_get_treenodes_detail.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Fetch position and other information for arbitrary treenode ids</p>
    
    </div>

    <pre class="usage"><span class='fu'>catmaid_get_treenodes_detail</span>(<span class='kw'>tnids</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>skids</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>pid</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>conn</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>raw</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tnids</th>
      <td><p>One or more (integer) treenode ids</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>One or more (character) labels with which nodes must be tagged</p></td>
    </tr>
    <tr>
      <th>skids</th>
      <td><p>One or more skeleton ids or an expression compatible with
<code><a href='catmaid_skids.html'>catmaid_skids</a></code> (see Details for advice re many skids)</p></td>
    </tr>
    <tr>
      <th>pid</th>
      <td><p>project id (default 1)</p></td>
    </tr>
    <tr>
      <th>conn</th>
      <td><p>the <code><a href='catmaid_login.html'>catmaid_connection</a></code> object</p></td>
    </tr>
    <tr>
      <th>raw</th>
      <td><p>Whether to return completely unprocessed data (when <code>TRUE</code>) 
or to convert the nodes and connectors lists into processed data.frames 
(when <code>FALSE</code>, the default)</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to the <code><a href='catmaid_fetch.html'>catmaid_fetch</a></code> 
function.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    
<ul>
<li><p>treenode_id,</p></li>
<li><p>parent_id,</p></li>
<li><p>x,</p></li>
<li><p>y,</p></li>
<li><p>z,</p></li>
<li><p>confidence,</p></li>
<li><p>radius,</p></li>
<li><p>skid,</p></li>
<li><p>edition_time,</p></li>
<li><p>user_id</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The key feature of this function is that allows you to fetch
  information for arbitrary tree nodes that do not need to be from the same
  skeleton. Furthermore the nodes can be defined by the presence of labels
  (tags) or by a skeleton id. <code>labels</code> and <code>skids</code> specifiers can
  be combined in order e.g. to find details for the somata for a given set of
  skeleton ids. However these queries are slow for more than a few hundred
  skids, at which point it is better to fetch using the label and then filter
  by skid post hoc in R.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='catmaid_get_treenode_table.html'>catmaid_get_treenode_table</a></code>,
  <code><a href='catmaid_get_connectors.html'>catmaid_get_connectors</a></code>,
  <code><a href='catmaid_get_compact_skeleton.html'>catmaid_get_compact_skeleton</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># details for 3 nodes from two different skeletons</span>
<span class='fu'>catmaid_get_treenodes_detail</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>9943214L</span>, <span class='fl'>25069047L</span>, <span class='fl'>12829015L</span>))</div><div class='output co'>#&gt;   treenode_id parent_id      x      y      z confidence radius    skid
#&gt; 1     9943214   9943217 419085 175627 120280          5     -1 4116825
#&gt; 2    25069047  25069046 426264 244230 143920          5     -1 7138957
#&gt; 3    12829015  12829013 442500 147757 175160          5     -1 3821611
#&gt;   edition_time user_id
#&gt; 1   1498514622     113
#&gt; 2   1521466478     134
#&gt; 3   1496347172     150</div><div class='input'>
<span class='co'># example label search</span>
<span class='no'>tosoma</span><span class='kw'>=</span><span class='fu'>catmaid_get_treenodes_detail</span>(<span class='st'>"to soma"</span>)</div><div class='output co'>#&gt; <span class='error'>Error: catmaid_get_treenodes_detail of type: ValueError</span>
#&gt; <span class='error'>  invalid literal for int() with base 10: 'to soma'</span></div><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='co'># If you have a lot of skids to query you will need to break up your queries</span>
<span class='co'># into smaller chunks. You could do this like so:</span>
<span class='no'>catmaid_get_treenodes_detail_chunked</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>skids</span>, <span class='no'>chunksize</span><span class='kw'>=</span><span class='fl'>300</span>, <span class='no'>chunkstoread</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='no'>...</span>) {
  <span class='no'>nchunks</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Round'>ceiling</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>skids</span>)/<span class='no'>chunksize</span>)
  <span class='no'>chunks</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq_len</a></span>(<span class='no'>nchunks</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='no'>chunksize</span>, <span class='no'>nchunks</span>))[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq_along</a></span>(<span class='no'>skids</span>)]

  <span class='no'>l</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>()
  <span class='kw'>if</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/NULL'>is.null</a></span>(<span class='no'>chunkstoread</span>)) <span class='no'>chunkstoread</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq_len</a></span>(<span class='no'>nchunks</span>)
  <span class='no'>pb</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>progress</span><span class='kw ns'>::</span><span class='no'><a href='https://www.rdocumentation.org/packages/progress/topics/progress_bar'>progress_bar</a></span>$<span class='fu'>new</span>(<span class='kw'>total</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>skids</span>),
                                   <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"  :current/:total [:bar]  eta: :eta"</span>,
                                   <span class='kw'>show_after</span><span class='kw'>=</span><span class='fl'>1</span>)

  <span class='kw'>for</span>(<span class='no'>i</span> <span class='kw'>in</span> <span class='no'>chunkstoread</span>) {
    <span class='no'>pb</span>$<span class='fu'>tick</span>(<span class='kw'>len</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sum'>sum</a></span>(<span class='no'>chunks</span><span class='kw'>==</span><span class='no'>i</span>))
    <span class='no'>l</span><span class='kw'>[[</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>l</span>)+<span class='fl'>1</span>]]<span class='kw'>=</span><span class='fu'>catmaid_get_treenodes_detail</span>(<span class='kw'>skids</span><span class='kw'>=</span><span class='no'>skids</span>[<span class='no'>chunks</span><span class='kw'>==</span><span class='no'>i</span>], <span class='no'>...</span>)
  }
  <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></span>(<span class='no'>l</span>)
}

<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

